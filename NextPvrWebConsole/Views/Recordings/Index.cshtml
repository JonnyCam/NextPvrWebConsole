@{
    ViewBag.Title = "Recordings";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles{
    @Styles.Render("~/Content/recordings/css")
}

<h2>Recordings</h2>

<div class="recordings-groups-container">
    <ul class="recording-groups" data-bind="foreach: recordingGroups, visible: recordingGroups().length > 0">
        <li class="recording-group" data-bind="visible:recordings().length > 0, click: select, attr: { id: 'rg-' + index}">
            <span class="name" data-bind="text: name"></span>
            <span class="number-of-recordings" data-bind="text: numberOfRecordings"></span>
        </li> 
    </ul>
</div>

<div class="recordings-list-container" data-bind="with: selectedRecordingGroup">
    <table class="recordings-list" data-bind="visible: recordings().length > 0">
        <thead>
            <tr>
                <th class="recording-status"></th>
                <th class="recording-name">Name</th>
                <th class="recording-starttime">Start</th>
                <th class="recording-endtime">End</th>
                <th class="recording-controls"></th>
            </tr>
        </thead>
        <tbody class="recordings-list" data-bind="foreach: recordings">
            <tr data-bind="attr: { class : cssClass }">
                <td class="recording-status"><span data-bind="attr: { class: 'status_' + status() }"></span></td>
                <td class="recording-name" data-bind="text: displayName"></td>
                <td class="recording-starttime" data-bind="text:startTimeStr"></td>
                <td class="recording-endtime" data-bind="text:endTimeStr"></td>
                <td class="recording-controls">
                    <a href="#" onclick="return false" class="btn btn-danger" data-bind="click: remove">
                        <i class="icon-trash icon-large"></i> Delete
                    </a>
                </td>
            </tr>
        </tbody>
    </table>
    <ul class="recordings-list-statuskey">
        <li><span class="status_0"></span>Pending</li>
        <li><span class="status_1"></span>In Progress</li>
        <li><span class="status_2"></span>Completed</li>
        <li><span class="status_3"></span>Completed With Errors</li>
        <li><span class="status_4"></span>Place Holder</li>
        <li><span class="status_5"></span>Conflict</li>
    </ul>
</div>

@section Scripts{
    @Scripts.Render("~/Scripts/recordings/index.js")
}